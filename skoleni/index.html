<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="UTF-8">
  <title>Certifikát s fontem Poppins</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body style="text-align: center; font-family: sans-serif; background: #111; color: white; padding: 2rem;">
  <h1>Generátor certifikátu (Poppins)</h1>
  <p>Zadejte své jméno:</p>
  <input type="text" id="name" placeholder="Jméno a příjmení" style="padding: 0.5rem; font-size: 1rem;" />
  <br><br>
  <button onclick="generate()">Vytvořit PDF</button>

  <script>
    const { jsPDF } = window.jspdf;

    // Base64 font Poppins-Regular (zkrácený náhled, v reálu by měl být kompletní)
    const fontBase64 = 'AAEAAAAPAIAAAwBwRFNJRwAAAAEAAjeYAAAACEdERUYJFgkZAAH+PAAA...'; // ZDE vlož celý base64

    jsPDF.API.events.push(['addFonts', function () {
      this.addFileToVFS("Poppins-Regular.ttf", fontBase64);
      this.addFont("Poppins-Regular.ttf", "Poppins", "normal");
    }]);

    function generate() {
      const name = document.getElementById("name").value.trim();
      if (!name) {
        alert("Zadejte jméno.");
        return;
      }

      const today = new Date().toLocaleDateString('cs-CZ');
      const doc = new jsPDF();
      doc.setFont("Poppins");
      doc.setFontSize(18);
      doc.setTextColor(0, 0, 0);
      doc.text("CERTIFIKÁT O ABSOLVOVÁNÍ", 105, 30, { align: "center" });

      doc.setFontSize(14);
      doc.text(`Tímto potvrzujeme, že`, 105, 45, { align: "center" });

      doc.setFontSize(16);
      doc.text(name, 105, 55, { align: "center" });

      doc.setFontSize(12);
      doc.text("úspěšně absolvoval(a) školení", 105, 65, { align: "center" });
      doc.setFontSize(13);
      doc.text("Postkvantová kryptografie a kvantové hrozby", 105, 75, { align: "center" });

      doc.setFontSize(10);
      doc.text("Datum vystavení: " + today, 105, 90, { align: "center" });
      doc.text("Ověření: https://quantalock.cz/overeni", 105, 100, { align: "center" });

      doc.save(`certifikat-${name.replace(/\s+/g, "_")}.pdf`);
    }
  </script>
</body>
</html>
